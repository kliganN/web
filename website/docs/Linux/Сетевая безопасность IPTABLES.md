---
sidebar_position: 5
---

# Сетевая безопасность. IPTABLES

:::info
Управление правилами iptables в Linux
:::
Чтобы проверить текущие правила iptables, используйте команду:

```bash
sudo iptables -L
```

Где, `L` означает "list" и показывает текущие правила iptables.

**Iptables имеет три цепочки:** `INPUT (ввод)`, `FORWARD (пересылка)` и `OUTPUT (вывод)`. Цепь **INPUT** позволяет трафику входить на сервер, цепь **FORWARD** пересылает трафик между хостами, а цепь **OUTPUT** позволяет трафику выходить из сервера.

Чтобы разрешить доступ для разработчика на сервер приложений по `SSH`, необходимо создать правило для цепочки **INPUT**. Например:

```bash
sudo iptables -A INPUT -p tcp --dport 22 -s developer_ip_address -j ACCEPT
```

Где, `-A INPUT` означает добавление правила в цепочку INPUT, `-p tcp` указывает на протокол TCP, `--dport 22` указывает на номер порта 22 (ssh), `-s developer_ip_address` ограничивает доступ только для IP-адреса разработчика, а `-j ACCEPT` указывает на принятие пакета.

Iptables поддерживает три типа правил: ACCEPT, DROP и REJECT. Правила выполняются поочередно, начиная с первого правила в цепочке. Если первое условие соблюдается, то пакет принимается, даже если в конце цепочки находится правило, которое отклоняет все остальные пакеты. Например:

```bash
sudo iptables -A INPUT -p tcp --dport 22 -j DROP
sudo iptables -A INPUT -j REJECT
```

Здесь первое правило отклонит все пакеты, которые пытаются подключиться по ssh, а второе правило отклонит все остальные пакеты, которые попадают в цепочку `INPUT`.

